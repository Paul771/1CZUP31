
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда
		
		Возврат;
		
	КонецЕсли;
	
	НомерКолонки = Параметры.НомерКолонки;
	ОграничиватьФОТ = Параметры.ИспользованиеРазрешено;
	ФОТМин = Параметры.РазмерМин;
	ФОТМакс = Параметры.РазмерМакс;
	
	УстановитьДоступностьПолей(ЭтотОбъект);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура ОграничиватьФОТПриИзменении(Элемент)
	
	УстановитьДоступностьПолей(ЭтотОбъект);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОК(Команда)
	
	ДанныеПоказателя = Новый Структура("НомерКолонки, ИспользованиеРазрешено, РазмерМин, РазмерМакс, ОграничениеФОТ");
	ДанныеПоказателя.НомерКолонки = НомерКолонки;
	ДанныеПоказателя.ИспользованиеРазрешено = ОграничиватьФОТ;
	ДанныеПоказателя.РазмерМин = ?(ОграничиватьФОТ, ФОТМин, 0);
	ДанныеПоказателя.РазмерМакс = ?(ОграничиватьФОТ, ФОТМакс, 0);
	ДанныеПоказателя.ОграничениеФОТ = Истина;
	
	ОповеститьОВыборе(ДанныеПоказателя);
	
КонецПроцедуры

&НаКлиенте
Процедура Отмена(Команда)
	
	Закрыть();
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаКлиентеНаСервереБезКонтекста
Процедура УстановитьДоступностьПолей(Форма)
	
	ОбщегоНазначенияКлиентСервер.УстановитьСвойствоЭлементаФормы(
		Форма.Элементы, "ФОТМин", "Доступность", Форма.ОграничиватьФОТ);
	ОбщегоНазначенияКлиентСервер.УстановитьСвойствоЭлементаФормы(
		Форма.Элементы, "ФОТМакс", "Доступность", Форма.ОграничиватьФОТ);
		
КонецПроцедуры

#КонецОбласти
