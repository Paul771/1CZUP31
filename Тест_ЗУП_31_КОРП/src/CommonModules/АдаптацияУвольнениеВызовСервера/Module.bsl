////////////////////////////////////////////////////////////////////////////////
// Подсистема "Адаптация и увольнение".
//
////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

// Возвращает массив видов событий адаптации/увольнения доступных для заданного вида мероприятия.
//
// Параметры:
//	ВидМероприятия - ПеречислениеСсылка.МероприятияАдаптацииУвольнения - необязательный.
//
// Возвращаемое значение:
//	Массив - содержит значения типа ПеречислениеСсылка.ВидыСобытийАдаптацииУвольнения.
//
Функция ДоступныеВидыСобытий(ВидМероприятия = НеОпределено) Экспорт
	
	Возврат Перечисления.ВидыСобытийАдаптацииУвольнения.ДоступныеВидыСобытий(ВидМероприятия);
	
КонецФункции

// Возвращает данные мероприятия, необходимые для корректного отображения на форме объекта назначения.
//
// Параметры:
//	Мероприятие - СправочникСсылка.МероприятияАдаптацииУвольнения - мероприятие, по которому запрашиваются данные.
//
// Возвращаемое значение:
//	Структура - со свойствами:
//		*ЭтоМероприятиеАдаптации - Булево - признак того, выполняется ли мероприятие при приеме или переводе.
//		*ЭтоМероприятиеУвольнения - Булево - признак того, выполняется ли мероприятие при увольнении или переводе.
//		*ПредставлениеСобытий - Строка - представление списка событий, при которых выполняется мероприятие.
//		*События - СписокЗначений - с элементами типа ПеречислениеСсылка.ВидыСобытийАдаптацииУвольнения.
//
Функция ДанныеМероприятия(Мероприятие) Экспорт
	
	Возврат АдаптацияУвольнениеФормы.ДанныеМероприятия(Мероприятие);
	
КонецФункции

// Возвращает данные мероприятия, необходимые для формирования заданий.
//
// Параметры:
//	Мероприятие - СправочникСсылка.МероприятияАдаптацииУвольнения - мероприятие, по которому запрашиваются данные.
//	ДопПараметры - Структура - со свойствами:
//		*ФизическоеЛицо - СправочникСсылка.ФизическиеЛица - для кого выполняется мероприятие.
//		*ДатаСобытия - Дата - относительной которой будет определена ДатаНачала и ДатаОкончания мероприятия.
//
// Возвращаемое значение:
//	Структура - со свойствами:
//		*Исполнитель - СправочникСсылка.Пользователи, СправочникСсылка.РолиПользователей - исполнитель мероприятия.
//		*ДатаНачала - Дата - дата начала выполнения мероприятия.
//		*ДатаОкончания - Дата - дата окончания выполнения мероприятия.
//
Функция СвойстваНазначаемогоМероприятия(Мероприятие, ДопПараметры) Экспорт
	
	Возврат АдаптацияУвольнение.СвойстваНазначаемогоМероприятия(Мероприятие, ДопПараметры);
	
КонецФункции

#КонецОбласти

#Область СлужебныйПрограммныйИнтерфейс

// Возвращает соответствие с ключом из имен реквизитов документа решения, используемых при выборе решения - основания
// для кадрового приказа.
//
// Параметры:
//	ИмяДокумента - Строка - имя заданное в метаданных документа решения.
//	
// Возвращаемое значение:
//	Соответствие:
//		Ключ - Строка - имя реквизита решения.
//		Значение - имя реквизита кадрового приказа.
//
Функция СоответствиеРеквизитовОтбораРешенияРеквизитамПриказа(ИмяДокументаРешения) Экспорт
	
	Возврат Документы[ИмяДокументаРешения].СоответствиеРеквизитовОтбораРеквизитамПриказа();
	
КонецФункции

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

Процедура ОбработкаПолученияДанныхВыбораПеречисленияВидыСобытийАдаптацииУвольнения(ДанныеВыбора, Параметры, СтандартнаяОбработка) Экспорт
	
	Если Параметры.Отбор.Свойство("ВидМероприятия") И ЗначениеЗаполнено(Параметры.Отбор.ВидМероприятия) Тогда
		Параметры.Отбор.Вставить("Ссылка", Перечисления.ВидыСобытийАдаптацииУвольнения.ДоступныеВидыСобытий(Параметры.Отбор.ВидМероприятия));
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти
